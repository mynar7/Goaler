(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){e.exports=a(411)},181:function(e,t,a){},199:function(e,t,a){},275:function(e,t,a){},278:function(e,t,a){},293:function(e,t,a){},302:function(e,t,a){},372:function(e,t,a){},374:function(e,t,a){},376:function(e,t,a){},380:function(e,t,a){},391:function(e,t,a){},394:function(e,t,a){},396:function(e,t,a){},398:function(e,t,a){},401:function(e,t,a){},403:function(e,t,a){},411:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(32),l=a.n(o),s=(a(181),a(108)),i=a.n(s),c=a(148),u=a(10),m=a(11),p=a(14),d=a(12),g=a(13),h=a(92),E=r.a.createContext(null),f=function(e){return function(t){return r.a.createElement(E.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,{firebase:a}))})}},b=E,v=a(64),y=a.n(v),k=(a(192),a(194),{apiKey:"AIzaSyD-JApoTn3FGcYz4dBjO48jQ5nMOQHiRZc",authDomain:"goaler-8f0dc.firebaseapp.com",databaseURL:"https://goaler-8f0dc.firebaseio.com",projectId:"goaler-8f0dc",storageBucket:"goaler-8f0dc.appspot.com",messagingSenderId:"564932997783"}),w=function e(){var t=this;Object(u.a)(this,e),this.signIn=function(){var e=new v.auth.GoogleAuthProvider;return t.auth.signInWithRedirect(e).catch(function(e){return console.log(e)})},this.logout=function(){return t.auth.signOut()},this.redirect=function(){return t.auth.getRedirectResult()},this.initializeUser=function(e){t.goalsRef=t.db.collection("users/".concat(e,"/goals")),t.settingsRef=t.db.collection("users/".concat(e,"/settings"))},y.a.initializeApp(k),this.auth=y.a.auth(),this.db=y.a.firestore();this.db.settings({timestampsInSnapshots:!0})},O=a(413),C=a(415),S=a(414),j=a(171),M=a.n(j),T=a(41),D=a.n(T),N=a(22),A=a.n(N),x=a(29),I=a.n(x),P=(a(199),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.user&&console.log(this.props.user)}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{className:"login-titleCard"},r.a.createElement("div",{className:"login-titleCard_container"},r.a.createElement(A.a,{variant:"h2",className:"login-titleCard_title",gutterBottom:!0},"Welcome to ",r.a.createElement("strong",null,"GOALER")),r.a.createElement(A.a,{variant:"h5",align:"right",className:"login-titleCard_subtitle",gutterBottom:!0},"Track your goals."),r.a.createElement(A.a,{variant:"h5",align:"right",className:"login-titleCard_subtitle",gutterBottom:!0},"Get more things done."),this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement(A.a,{variant:"h5",align:"right",className:"login-titleCard_actionCall",gutterBottom:!0},"Welcome, ",this.props.user.displayName),r.a.createElement(I.a,{variant:"contained",color:"secondary",className:"login-titleCard_dashBtn",onClick:function(){return e.props.history.push("/")}},"See your Goals")):r.a.createElement(A.a,{variant:"h5",align:"right",className:"login-titleCard_actionCall",gutterBottom:!0},r.a.createElement(I.a,{variant:"contained",color:"secondary",onClick:this.props.login},"Sign in"),"\xa0with Google"))))}}]),t}(n.Component)),R=(a(275),a(150)),G=a.n(R),F=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.props.status?r.a.createElement("div",{className:"loading"},r.a.createElement(G.a,{color:"secondary",size:200})):this.props.children)}}]),t}(n.Component),B=a(412),W=a(151),L=a.n(W),U=a(152),H=a.n(U),_=a(30),V=a.n(_),q=a(153),z=a.n(q),Y=a(154),J=a.n(Y),K=a(28),Q=(a(278),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("header",null,r.a.createElement(L.a,{position:"static",className:"header",style:{backgroundColor:this.props.theme.palette.primary.main+"80"}},r.a.createElement(H.a,{className:"row"},r.a.createElement(B.a,{to:"/"},r.a.createElement(I.a,{color:"inherit","aria-label":"Logo"},r.a.createElement(z.a,null),r.a.createElement(A.a,{variant:"h6",color:"inherit"},"Goaler"))),r.a.createElement("div",null,this.props.user?r.a.createElement(V.a,{color:"inherit",onClick:this.props.toggleDrawer},r.a.createElement(J.a,null)):r.a.createElement(I.a,{color:"inherit",onClick:this.props.login},"Sign In")))))}}]),t}(n.Component)),$=Object(K.withTheme)()(Q),X=a(61),Z=a.n(X),ee=a(45),te=a.n(ee),ae=a(35),ne=a.n(ae),re=a(31),oe=a.n(re),le=a(159),se=a.n(le),ie=a(158),ce=a.n(ie),ue=a(156),me=a.n(ue),pe=a(157),de=a.n(pe),ge=a(155),he=a.n(ge),Ee=a(26),fe=a.n(Ee),be=a(416),ve=(a(293),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).navigate=function(e){a.props.history.push(e),a.props.toggleDrawer()},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(te.a,{className:"mainmenu"},r.a.createElement(ne.a,{button:!0,onClick:function(){return e.navigate("/login")}},r.a.createElement(oe.a,null,r.a.createElement(he.a,null)),r.a.createElement(fe.a,{primary:"Home"})),r.a.createElement(ne.a,{button:!0,onClick:function(){return e.navigate("/")}},r.a.createElement(oe.a,null,r.a.createElement(me.a,null)),r.a.createElement(fe.a,{primary:"Goals"})),r.a.createElement(ne.a,{button:!0,onClick:function(){return e.navigate("/about")}},r.a.createElement(oe.a,null,r.a.createElement(de.a,null)),r.a.createElement(fe.a,{primary:"About"})),r.a.createElement(ne.a,{button:!0,onClick:function(){return e.navigate("/settings")}},r.a.createElement(oe.a,null,r.a.createElement(ce.a,null)),r.a.createElement(fe.a,{primary:"Settings"})),r.a.createElement(Z.a,null),r.a.createElement(ne.a,{button:!0,onClick:this.props.logout},r.a.createElement(oe.a,null,r.a.createElement(se.a,null)),r.a.createElement(fe.a,{primary:"Sign Out"})))}}]),t}(n.Component)),ye=Object(be.a)(ve),ke=a(46),we=a(170),Oe=a.n(we),Ce=a(63),Se=a.n(Ce),je=a(109),Me=a(110),Te=a(36),De=a(23),Ne=a.n(De),Ae=a(83),xe=a.n(Ae),Ie=a(85),Pe=a.n(Ie),Re=a(54),Ge=a.n(Re),Fe=a(82),Be=a.n(Fe),We=a(37),Le=a.n(We),Ue=a(55),He=a.n(Ue),_e=a(34),Ve=a.n(_e),qe=a(62),ze=a.n(qe),Ye=a(84),Je=a.n(Ye),Ke=a(161),Qe=a.n(Ke),$e=(a(302),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).toggleMultigoal=function(){a.setState({multigoal:!a.state.multigoal})},a.handleChange=function(e){return function(t){a.setState(Object(Te.a)({},e,t.target.value))}},a.validate=function(){var e=!1,t="",n=!1,r="",o=!1,l="";a.state.name||(e=!0,t="Please set a goal"),a.state.date||(n=!0,r="Please set a date"),a.state.time||(o=!0,l="Please set a time");var s=new Date,i="".concat(a.state.date," ").concat(a.state.time).split(/[- :]/).map(function(e){return Number(e)});i[1]--;var c=Object(je.a)(Date,Object(Me.a)(i));return c.getTime()<s.getTime()&&(c.toDateString()!==s.toDateString()?(n=!0,r="Date must be in future"):(o=!0,l="Time must be in future")),a.setState({nameErr:e,nameHelper:t,dateErr:n,dateHelper:r,timeErr:o,timeHelper:l}),!!(o||n||e)},a.handleSubmit=function(){if(!a.validate()){var e="".concat(a.state.date," ").concat(a.state.time).split(/[- :]/).map(function(e){return Number(e)});e[1]--;var t=Object(je.a)(Date,Object(Me.a)(e)),n=(new Date).getTime();a.props.initialState&&a.props.initialState.goal?a.state.subgoal?a.props.firebase.goalsRef.doc(a.props.initialState.parentGoalId).collection("subgoals").doc(a.props.initialState.id).update({goal:a.state.name,date:t.getTime(),multigoal:a.state.multigoal,subgoal:a.state.subgoal,completed:!1,updatedAt:n}).then(function(){a.props.toggleModal()}):a.props.firebase.goalsRef.doc(a.props.initialState.id).update({goal:a.state.name,date:t.getTime(),multigoal:a.state.multigoal,subgoal:a.state.subgoal,completed:!1,updatedAt:n}).then(function(){a.props.toggleModal()}):a.state.subgoal?a.props.firebase.goalsRef.doc(a.props.initialState.parentGoalId).collection("subgoals").add({goal:a.state.name,date:t.getTime(),multigoal:a.state.multigoal,subgoal:a.state.subgoal,completed:!1,createdAt:n,updatedAt:n}).then(function(){a.props.toggleModal()}):a.props.firebase.goalsRef.add({goal:a.state.name,date:t.getTime(),multigoal:a.state.multigoal,subgoal:a.state.subgoal,completed:!1,createdAt:n,updatedAt:n}).then(function(){a.props.toggleModal()})}},a.now=new Date;var n,r=new Date(a.now.getTime()+864e5),o=function(e){return e<10?"0"+e:e},l="".concat(r.getFullYear(),"-").concat(o(r.getMonth()+1),"-").concat(o(r.getDate()));if(a.today="".concat(a.now.getFullYear(),"-").concat(o(a.now.getMonth()+1),"-").concat(o(a.now.getDate())),a.maxDate="".concat(a.now.getFullYear()+10,"-").concat(o(a.now.getMonth()+1),"-").concat(o(a.now.getDate())),a.currentTime="".concat(o(a.now.getHours()),":").concat(o(a.now.getMinutes())),a.props.initialState&&a.props.initialState.date){var s=a.props.initialState.date,i=l,c=a.currentTime;if(s>a.now.getTime()){var m=new Date(s);i="".concat(m.getFullYear(),"-").concat(o(m.getMonth()+1),"-").concat(o(m.getDate())),c="".concat(o(m.getHours()),":").concat(o(m.getMinutes()))}n={name:a.props.initialState.goal,nameErr:!1,nameHelper:"",date:i,dateErr:!1,dateHelper:"",time:c,timeErr:!1,timeHelper:"",multigoal:!!a.props.initialState.multigoal,subgoal:!!a.props.initialState.subgoal}}else n={name:"",nameErr:!1,nameHelper:"",date:l,dateErr:!1,dateHelper:"",time:a.currentTime,timeErr:!1,timeHelper:"",multigoal:!(!a.props.initialState||!a.props.initialState.multigoal),subgoal:!(!a.props.initialState||!a.props.initialState.subgoal)};return a.state=n,a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.name===this.state.name&&t.date===this.state.date&&t.time===this.state.time||this.validate()}},{key:"render",value:function(){return r.a.createElement(D.a,{className:"goalform"},r.a.createElement(Be.a,{avatar:r.a.createElement(xe.a,{style:{backgroundColor:this.props.theme.palette.secondary.main,color:this.props.theme.palette.text.primary}},r.a.createElement(Qe.a,null)),title:"Add a goal",action:r.a.createElement(V.a,{onClick:this.props.toggleModal,tabIndex:-1},r.a.createElement(Je.a,null))}),r.a.createElement(Ge.a,null,r.a.createElement(Ne.a,{container:!0,spacing:0},r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(Le.a,{label:"Goal",placeholder:"Make it a good one!",error:this.state.nameErr,value:this.state.name,onChange:this.handleChange("name"),fullWidth:!0,margin:"normal",helperText:this.state.nameHelper})),r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement(Le.a,{label:"Due Date",error:this.state.dateErr,type:"date",value:this.state.date,onChange:this.handleChange("date"),margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},helperText:this.state.dateHelper,InputProps:{inputProps:{min:this.today,max:this.maxDate}}})),r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement(Le.a,{label:"Due Time",error:this.state.timeErr,type:"time",value:this.state.time,onChange:this.handleChange("time"),margin:"normal",fullWidth:!0,helperText:this.state.timeHelper,InputLabelProps:{shrink:!0}})),!this.state.subgoal&&!this.props.initialState.subgoalsAdded&&r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement(He.a,{row:!0},r.a.createElement(Ve.a,{control:r.a.createElement(ze.a,{checked:this.state.multigoal,onChange:this.toggleMultigoal,value:this.state.multigoal}),label:r.a.createElement(A.a,{color:this.state.multigoal?"textPrimary":"textSecondary"},"Multi-Step Goal")}))))),r.a.createElement(Pe.a,{className:"row right"},r.a.createElement(I.a,{onClick:this.handleSubmit},this.props.initialState&&this.props.initialState.goal?"Update ":"Add ","Goal"),r.a.createElement(I.a,{onClick:this.props.toggleModal},"Cancel")))}}]),t}(n.Component)),Xe=Object(K.withTheme)()(f($e)),Ze=a(86),et=a.n(Ze),tt=a(88),at=a.n(tt),nt=a(43),rt=a.n(nt),ot=a(163),lt=a.n(ot),st=a(162),it=a.n(st),ct=a(87),ut=a.n(ct),mt=a(90),pt=a.n(mt),dt=a(89),gt=a.n(dt),ht=a(91),Et=a.n(ht),ft=(a(372),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).checkTime=function(){return a.props.date-(new Date).getTime()},a.updateTime=function(){if(!a.unMounting){var e,t=a.checkTime();e=!(t<0),t=Math.abs(t);var n=Math.floor(t/1e3)%60,r=Math.floor(t/1e3/60)%60,o=Math.floor(t/1e3/3600)%24,l=Math.floor(t/1e3/3600/24);l=l<10?"0"+l:l.toString(),o=o<10?"0"+o:o.toString(),r=r<10?"0"+r:r.toString(),n=n<10?"0"+n:n.toString(),a.setState({time:{days:l,hours:o,minutes:r,seconds:n},counting:e}),requestAnimationFrame(a.updateTime)}},a.unMounting=!1;var n=a.checkTime();return a.state={time:{},counting:n>0,classes:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.date!==this.props.date&&this.updateTime()}},{key:"componentDidMount",value:function(){this.props.date&&this.updateTime()}},{key:"componentWillUnmount",value:function(){this.unMounting=!0}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.counting?r.a.createElement("span",{className:this.state.classes},"Due in:"," ".concat(this.state.time.days,":")+"".concat(this.state.time.hours,":")+"".concat(this.state.time.minutes,":")+"".concat(this.state.time.seconds)):r.a.createElement("span",{className:"timer-strike"},"Past Due:"," ".concat(this.state.time.days,":")+"".concat(this.state.time.hours,":")+"".concat(this.state.time.minutes,":")+"".concat(this.state.time.seconds)))}}]),t}(r.a.Component)),bt=(a(374),function(e){var t=e.date,a=(new Date).getTime()-t,n=new Date(t);return r.a.createElement("span",{className:a>0?"timedue":""},"Due: ",n.toLocaleString())}),vt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).updateTime=function(){var e=new Date(a.props.updated),t=new Date(a.props.created),n=new Date(a.props.completed);a.props.completed?a.setState({timeStatus:"completed",completed:"Done: "+n.toLocaleString()}):a.props.updated===a.props.created?a.setState({timeStatus:"created",created:"Created: "+t.toLocaleString()}):a.setState({timeStatus:"updated",updated:"Updated: "+e.toLocaleString(),created:"Created: "+t.toLocaleString()})},a.renderSpans=function(){switch(a.state.timeStatus){case"completed":return r.a.createElement("span",null,a.state.completed);case"created":return r.a.createElement("span",null,a.state.created);case"updated":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,a.state.updated));default:return}},a.state={created:"",updated:"",completed:"",timeStatus:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){e!==this.props&&this.updateTime()}},{key:"componentDidMount",value:function(){this.updateTime()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderSpans())}}]),t}(n.Component),yt=function(e){function t(e){var a;Object(u.a)(this,t),a=Object(p.a)(this,Object(d.a)(t).call(this,e));var n=e.completed-e.updated,r=Math.round(n/1e3)%60,o=Math.floor(n/1e3/60)%60,l=Math.floor(n/1e3/3600)%24,s=Math.floor(n/1e3/3600/24);return a.days=s<10?"0"+s:s.toString(),a.hours=l<10?"0"+l:l.toString(),a.minutes=o<10?"0"+o:o.toString(),a.seconds=r<10?"0"+r:r.toString(),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Time: ".concat(this.days,":").concat(this.hours,":").concat(this.minutes,":").concat(this.seconds)),r.a.createElement("br",null))}}]),t}(n.Component),kt=(a(376),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleCompleteToggle=function(){var e=(new Date).getTime(),t=!a.props.goal.completed;a.goalRef.update({completed:t,completedAt:t?e:null});var n=a.props.firebase.settingsRef.doc("completedCount");n.get().then(function(e){var a,r=e.data();(a=t?r.count+1:r.count-1)<0&&(a=0),n.set({count:a,enabled:r.enabled})})},a.triggerModal=function(e,t){var n;switch(t){case"edit":n=a.props.toggleModal;break;case"repeat":n=a.props.toggleRepeatModal;break;default:return}n(e?{parentGoalName:a.props.parentGoal.goal,parentGoalDate:a.props.parentGoal.date,parentGoalId:a.props.parentGoal.id,goal:a.props.goal.goal,date:a.props.goal.date,id:a.props.goal.id,multigoal:!1,subgoal:!0}:{goal:a.props.goal.goal,date:a.props.goal.date,id:a.props.goal.id,multigoal:a.props.goal.multigoal,subgoal:a.props.goal.subgoal}),a.handleClose()},a.handleDelete=function(){a.goalRef.delete(),a.handleClose()},a.toggleTimeView=function(){a.setState({timeView:!a.state.timeView})},a.state={anchorEl:null,timeView:!0},a.goalRef=e.goal.subgoal?e.firebase.goalsRef.doc("".concat(e.parentGoal.id,"/subgoals/").concat(e.goal.id)):e.firebase.goalsRef.doc(e.goal.id),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.props.deleteSelf&&this.goalRef.delete()}},{key:"componentDidUpdate",value:function(e,t){e.deleteSelf!==this.props.deleteSelf&&this.props.deleteSelf&&this.goalRef.delete()}},{key:"render",value:function(){var e=this,t=this.state.anchorEl,a=Boolean(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:this.props.goal.subgoal?"goalItem-indent":"",button:!0,onClick:this.toggleTimeView},this.state.timeView?r.a.createElement(fe.a,{primary:this.props.goal.goal,secondary:this.props.goal.completed?r.a.createElement(vt,{completed:this.props.goal.completedAt}):r.a.createElement(ft,{date:this.props.goal.date}),primaryTypographyProps:{style:{width:"80%"},className:this.props.goal.completed?"goalitem-strike":""},secondaryTypographyProps:{color:"error"}}):r.a.createElement(fe.a,{primary:this.props.goal.goal,secondary:this.props.goal.completed?r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{completed:this.props.goal.completedAt,updated:this.props.goal.updatedAt})):r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{date:this.props.goal.date}),r.a.createElement("br",null)),primaryTypographyProps:{style:{width:"80%"},className:this.props.goal.completed?"goalitem-strike":""},secondaryTypographyProps:{color:"error"}}),r.a.createElement(et.a,null,r.a.createElement(V.a,{onClick:this.handleCompleteToggle},this.props.goal.completed?r.a.createElement(it.a,{color:"secondary"}):r.a.createElement(lt.a,null)),r.a.createElement(V.a,{onClick:this.handleMenuClick},r.a.createElement(ut.a,null)),r.a.createElement(at.a,{id:"long-menu",anchorEl:t,open:a,onClose:this.handleClose},!this.props.goal.completed&&r.a.createElement(rt.a,{onClick:function(){return e.triggerModal(e.props.goal.subgoal,"edit")}},r.a.createElement(oe.a,null,r.a.createElement(gt.a,{color:"inherit"})),r.a.createElement(fe.a,{inset:!0,primary:"Edit"})),this.props.goal.completed&&r.a.createElement(rt.a,{onClick:function(){return e.triggerModal(e.props.goal.subgoal,"repeat")}},r.a.createElement(oe.a,null,r.a.createElement(pt.a,{color:"error"})),r.a.createElement(fe.a,{inset:!0,primary:"Repeat"})),r.a.createElement(rt.a,{onClick:this.handleDelete},r.a.createElement(oe.a,null,r.a.createElement(Et.a,{nativeColor:this.props.theme.palette.warn[500]})),r.a.createElement(fe.a,{inset:!0,primary:"Delete"}))))))}}]),t}(n.Component)),wt=Object(K.withTheme)()(f(kt)),Ot=a(47),Ct=a.n(Ot),St=a(164),jt=a.n(St),Mt=a(56),Tt=a.n(Mt),Dt=a(65),Nt=a.n(Dt),At=a(165),xt=a.n(At),It=(a(380),function(e){function t(e){var a;Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleText=function(e){var t,n,r,o=e.target.value;""===o?(t=!0,n="Must have goal name",r=!0):(t=!1,n="",r=!1),a.setState({goal:o,goalErr:t,goalErrMsg:n,formError:r})},a.handleTime=function(e){var t,n,r=e.target.name;switch(r){case"hours":n=60;break;case"minutes":n=1;break;case"days":n=1440;break;case"weeks":n=10080}var o,l,s=Number(e.target.value),i=!1;(s<=0||isNaN(s))&&(o=!0,l="Time > 0",i=!0),a.setState((t={},Object(Te.a)(t,r,e.target.value),Object(Te.a)(t,r+"Err",o),Object(Te.a)(t,r+"ErrMsg",l),Object(Te.a)(t,"formError",i),Object(Te.a)(t,"value",(6e4*n*s).toString()),t))},a.handleChange=function(e){var t=new Date,n=e.target.value;a.setState({value:n,now:t.getTime()})},a.getMonth=function(e){var t=new Date,a=new Date;a.setMonth(t.getMonth()+e);var n=a.getTime()-t.getTime();return n=n.toString()},a.handleSubmit=function(){var e=a.props.initialState;(e.subgoal?a.props.firebase.goalsRef.doc(e.parentGoalId).collection("subgoals"):a.props.firebase.goalsRef).add({goal:a.state.goal,date:+a.state.value+a.state.now,multigoal:e.multigoal,subgoal:e.subgoal,completed:!1,createdAt:a.state.now,updatedAt:a.state.now}).then(function(){a.props.toggleRepeatModal()})},a.toggleChip=function(){a.setState({chip:!a.state.chip})},a.resetBadFields=function(){a.state.minutesErr&&a.setState({minutes:"10",minutesErr:!1,minutesErrMsg:"",formError:!1}),a.state.hoursErr&&a.setState({hours:"1",hoursErr:!1,hoursErrMsg:"",formError:!1}),a.state.daysErr&&a.setState({days:"1",daysErr:!1,daysErrMsg:"",formError:!1}),a.state.weeksErr&&a.setState({weeks:"1",weeksErr:!1,weeksErrMsg:"",formError:!1}),a.state.goalErr&&a.setState({goal:a.props.initialState.goal,goalErr:!1,goalErrMsg:"",formError:!1})};var n=new Date;return a.state={now:n.getTime(),value:864e5.toString(),chip:!0,formError:!1,hours:"1",hoursErr:!1,hoursErrMsg:"",minutes:"10",minutesErr:!1,minutesErrMsg:"",days:"1",daysErr:!1,daysErrMsg:"",weeks:"1",weeksErr:!1,weeksErrMsg:"",goal:a.props.initialState.goal,goalErr:!1,goalErrMsg:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(D.a,{className:"goalform"},r.a.createElement(Be.a,{avatar:r.a.createElement(xe.a,{style:{backgroundColor:this.props.theme.palette.secondary.main,color:this.props.theme.palette.text.primary}},r.a.createElement(pt.a,null)),title:"Repeat Goal:",action:r.a.createElement(V.a,{onClick:this.props.toggleRepeatModal,tabIndex:-1},r.a.createElement(Je.a,null))}),r.a.createElement(Ge.a,null,r.a.createElement(Ne.a,{container:!0,spacing:0},r.a.createElement(Ne.a,{item:!0,xs:12,className:"repeatform-goalField"},r.a.createElement(Le.a,{error:this.state.goalErr,helperText:this.state.goalErrMsg,inputProps:{step:1,min:1,required:!0},fullWidth:!0,name:"goal",value:this.state.goal,onBlur:this.resetBadFields,onChange:this.handleText})),r.a.createElement(Ne.a,{item:!0,xs:12},r.a.createElement(jt.a,{className:"repeatform-buttonGrp",row:!0,"aria-label":"Repeat Time",name:"repeatTime",value:this.state.value,onChange:this.handleChange},r.a.createElement(Ve.a,{value:(6e4*this.state.minutes).toString(),control:r.a.createElement(Ct.a,null),label:r.a.createElement("div",{className:"repeatform-hourInput-wrapper"},r.a.createElement(Le.a,{classes:{root:"repeatform-hourInput"},type:"number",error:this.state.minutesErr,helperText:this.state.minutesErrMsg,inputProps:{step:1,min:1,required:!0},InputProps:{endAdornment:r.a.createElement(Nt.a,{position:"end"},"Minute","1"===this.state.minutes?"":"s")},name:"minutes",className:"",value:this.state.minutes,onBlur:this.resetBadFields,onChange:this.handleTime}))}),r.a.createElement(Ve.a,{value:(36e5*this.state.hours).toString(),control:r.a.createElement(Ct.a,null),label:r.a.createElement("div",{className:"repeatform-hourInput-wrapper"},r.a.createElement(Le.a,{classes:{root:"repeatform-hourInput"},type:"number",error:this.state.hoursErr,helperText:this.state.hoursErrMsg,inputProps:{step:1,min:1,required:!0},InputProps:{endAdornment:r.a.createElement(Nt.a,{position:"end"},"Hour","1"===this.state.hours?"":"s")},name:"hours",className:"",value:this.state.hours,onBlur:this.resetBadFields,onChange:this.handleTime}))}),r.a.createElement(Ve.a,{value:(864e5*this.state.days).toString(),control:r.a.createElement(Ct.a,null),label:r.a.createElement("div",{className:"repeatform-hourInput-wrapper"},r.a.createElement(Le.a,{classes:{root:"repeatform-hourInput"},type:"number",error:this.state.daysErr,helperText:this.state.daysErrMsg,inputProps:{step:1,min:1,required:!0},InputProps:{endAdornment:r.a.createElement(Nt.a,{position:"end"},"Day","1"===this.state.days?"":"s")},name:"days",className:"",value:this.state.days,onBlur:this.resetBadFields,onChange:this.handleTime}))}),r.a.createElement(Ve.a,{value:(6048e5*this.state.weeks).toString(),control:r.a.createElement(Ct.a,null),label:r.a.createElement("div",{className:"repeatform-hourInput-wrapper"},r.a.createElement(Le.a,{classes:{root:"repeatform-hourInput"},type:"number",error:this.state.weeksErr,helperText:this.state.weeksErrMsg,inputProps:{step:1,min:1,required:!0},InputProps:{endAdornment:r.a.createElement(Nt.a,{position:"end"},"Week","1"===this.state.weeks?"":"s")},name:"weeks",className:"",value:this.state.weeks,onBlur:this.resetBadFields,onChange:this.handleTime}))}),r.a.createElement(Ve.a,{value:this.getMonth(1),control:r.a.createElement(Ct.a,null),label:"One Month"}),r.a.createElement(Ve.a,{value:this.getMonth(12),control:r.a.createElement(Ct.a,null),label:"One Year"}))),r.a.createElement(Ne.a,{item:!0,xs:12,className:"repeatform-chipWrapper"},r.a.createElement(Tt.a,{tabIndex:-1,color:this.state.chip?"primary":"secondary",icon:r.a.createElement(xt.a,null),onClick:this.toggleChip,label:this.state.chip?r.a.createElement(bt,{date:this.state.now+ +this.state.value}):r.a.createElement(ft,{date:this.state.now+ +this.state.value})})))),r.a.createElement(Pe.a,{className:"row right"},r.a.createElement(I.a,{disabled:this.state.formError||0===+this.state.value,onClick:this.handleSubmit},"Submit"),r.a.createElement(I.a,{onClick:this.props.toggleRepeatModal},"Cancel")))}}]),t}(n.Component)),Pt=Object(K.withTheme)()(f(It)),Rt=a(169),Gt=a.n(Rt),Ft=a(167),Bt=a.n(Ft),Wt=a(168),Lt=a.n(Wt),Ut=a(166),Ht=a.n(Ut),_t=f(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={subgoals:[]},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.props.deleteInProgress&&0===this.state.subgoals.length&&this.props.deleteParent()}},{key:"componentDidMount",value:function(){var e=this;this.props.firebase.db.collection("users/".concat(this.props.user.uid,"/goals/").concat(this.props.parentGoal.id,"/subgoals")).onSnapshot(function(t){var a=[];t.forEach(function(e){return a.push(Object(ke.a)({id:e.id},e.data()))});var n=a.filter(function(e){return e.completed}),r=Math.round(n.length/a.length*100);e.props.updateProgress(r),e.setState({subgoals:a})})}},{key:"render",value:function(){var e=this;return r.a.createElement(Ht.a,{in:this.props.open,timeout:"auto",unmountOnExit:!0},r.a.createElement(te.a,{component:"div",disablePadding:!0},this.state.subgoals.sort(function(e,t){var a=e.date-t.date;return e.completed===t.completed?a:e.completed?1:-1}).map(function(t){return r.a.createElement(wt,{key:t.id,goal:t,toggleModal:e.props.toggleModal,toggleRepeatModal:e.props.toggleRepeatModal,parentGoal:e.props.parentGoal,deleteSelf:e.props.deleteInProgress})})))}}]),t}(n.Component)),Vt=(a(391),function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).handleMenuClick=function(e){a.setState({anchorEl:e.currentTarget})},a.handleClose=function(){a.setState({anchorEl:null})},a.handleCompleteToggle=function(){if(!document.hidden&&(100===a.state.progress&&!a.props.goal.completed||100!==a.state.progress&&a.props.goal.completed)){var e=(new Date).getTime(),t=!a.props.goal.completed;a.goalRef.update({completed:t,completedAt:t?e:null})}},a.triggerModal=function(e){e?a.props.toggleModal({parentGoalName:a.props.goal.goal,parentGoalDate:a.props.goal.date,parentGoalId:a.props.goal.id,multigoal:!1,subgoal:!0,subgoalsAdded:a.state.subgoalsAdded}):a.props.toggleModal({goal:a.props.goal.goal,date:a.props.goal.date,id:a.props.goal.id,multigoal:a.props.goal.multigoal,subgoal:a.props.goal.subgoal,subgoalsAdded:a.state.subgoalsAdded}),a.handleClose()},a.startDelete=function(){a.setState({subgoalsOpen:!0,deleteInProgress:!0}),a.handleClose()},a.finishDelete=function(){a.goalRef.delete()},a.toggleTimeView=function(){a.setState({timeView:!a.state.timeView})},a.toggleSubgoals=function(){a.setState({subgoalsOpen:!a.state.subgoalsOpen})},a.updateProgress=function(e){a.setState({progress:e,subgoalsAdded:!isNaN(e),loading:!1}),100!==e||a.props.goal.completed?100!==e&&a.props.goal.completed&&setTimeout(function(){return a.handleCompleteToggle()},500):setTimeout(function(){return a.handleCompleteToggle()},500)},a.state={anchorEl:null,timeView:!0,subgoalsOpen:!e.goal.multigoal&&null,progress:0,subgoalsAdded:!1,loading:!0,deleteInProgress:!1},a.goalRef=e.goal.subgoal?e.firebase.goalsRef.doc("".concat(e.parentGoal.id,"/subgoals/").concat(e.goal.id)):e.firebase.goalsRef.doc(e.goal.id),a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state.anchorEl,a=Boolean(t);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ne.a,{className:this.props.goal.subgoal?"goalitem-indent":"",button:!0,onClick:this.toggleTimeView},this.state.timeView?r.a.createElement(fe.a,{primary:this.props.goal.goal,secondary:this.props.goal.completed?r.a.createElement(vt,{completed:this.props.goal.completedAt}):r.a.createElement(ft,{date:this.props.goal.date}),primaryTypographyProps:{style:{width:"80%"},className:this.props.goal.completed?"goalitem-strike":""},secondaryTypographyProps:{color:"error"}}):r.a.createElement(fe.a,{primary:this.props.goal.goal,secondary:this.props.goal.completed?r.a.createElement(r.a.Fragment,null,r.a.createElement(yt,{completed:this.props.goal.completedAt,updated:this.props.goal.updatedAt})):r.a.createElement(r.a.Fragment,null,r.a.createElement(bt,{date:this.props.goal.date}),r.a.createElement("br",null)),primaryTypographyProps:{style:{width:"80%"},className:this.props.goal.completed?"goalitem-strike":""},secondaryTypographyProps:{color:"error"}}),r.a.createElement(et.a,null,this.state.subgoalsAdded?!this.state.loading&&r.a.createElement(V.a,{onClick:this.toggleSubgoals},this.state.subgoalsOpen?r.a.createElement(Bt.a,null):r.a.createElement(Lt.a,null)):!this.state.loading&&r.a.createElement(V.a,{variant:"raised",onClick:function(){return e.triggerModal(!0)}},r.a.createElement(Se.a,null)),r.a.createElement(V.a,{onClick:this.handleMenuClick},r.a.createElement(ut.a,null)),r.a.createElement(at.a,{id:"long-menu",anchorEl:t,open:a,onClose:this.handleClose},this.props.goal.multigoal&&r.a.createElement(rt.a,{onClick:function(){return e.triggerModal(!0)}},r.a.createElement(oe.a,null,r.a.createElement(Se.a,{color:"inherit"})),r.a.createElement(fe.a,{inset:!0,primary:"Add Sub Goal"})),!this.props.goal.completed&&r.a.createElement(rt.a,{onClick:function(){return e.triggerModal(!1)}},r.a.createElement(oe.a,null,r.a.createElement(gt.a,{color:"inherit"})),r.a.createElement(fe.a,{inset:!0,primary:"Edit"})),r.a.createElement(rt.a,{onClick:this.startDelete},r.a.createElement(oe.a,null,r.a.createElement(Et.a,{nativeColor:this.props.theme.palette.warn[500]})),r.a.createElement(fe.a,{inset:!0,primary:"Delete"}))))),!this.state.loading&&this.state.subgoalsAdded&&r.a.createElement(Gt.a,{className:"goalItem-progress",color:"secondary",variant:"determinate",value:this.state.progress}),this.props.goal.multigoal&&r.a.createElement(_t,{open:this.state.subgoalsOpen,parentGoal:this.props.goal,user:this.props.user,toggleModal:this.props.toggleModal,toggleRepeatModal:this.props.toggleRepeatModal,updateProgress:this.updateProgress,deleteParent:this.finishDelete,deleteInProgress:this.state.deleteInProgress}))}}]),t}(n.Component)),qt=Object(K.withTheme)()(f(Vt)),zt=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).update=function(){if(!a.unmounting){var e=(new Date).toLocaleString("en-US",a.options);e!==a.state.time&&a.setState({time:e}),requestAnimationFrame(a.update)}},a.d=new Date,a.options={weekday:"short",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},a.state={time:a.d.toLocaleString("en-US",a.options)},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"render",value:function(){return r.a.createElement(Tt.a,{color:"secondary",label:this.state.time})}}]),t}(n.Component),Yt=f(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).unmounting=!1,a.state={completeCount:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.firebase.db.collection("users/".concat(this.props.uid,"/settings")).doc("completedCount").onSnapshot(function(t){var a=t.data();e.unmounting||e.setState({completeCount:a.count})})}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"render",value:function(){return r.a.createElement(Tt.a,{color:"primary",label:"Completed Goals: ".concat(this.state.completeCount)})}}]),t}(n.Component)),Jt=a(79),Kt=a.n(Jt),Qt=(a(394),function(e){var t=e.children,a=Object(h.a)(e,["children"]);return r.a.createElement(Kt.a,Object.assign({},a,{className:"centeredModal"}),t)});a(396);function $t(e){fetch("https://picsum.photos/g/1920/1200/?random").then(function(t){200===t.status?(document.body.style.backgroundImage="url(".concat(t.url,")"),e.doc("background").set({url:t.url})):document.body.style.backgroundImage="none"})}var Xt=f(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).toggleEnableSwitch=function(e){a.settingsRef.doc(e).update({enabled:!a.state.settings[e].enabled})},a.unmounting=!1,a.settingsRef=a.props.firebase.db.collection("users/".concat(a.props.user.uid,"/settings")),a.state={loading:!0,settings:{}},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.settingsRef.onSnapshot(function(t){var a={};t.forEach(function(e){return a[e.id]=Object(ke.a)({id:e.id},e.data())}),e.unmounting||e.setState({settings:a,loading:!1})})}},{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"render",value:function(){var e=this;return r.a.createElement(F,{status:this.state.loading},r.a.createElement("div",{className:"settings-wrapper"},r.a.createElement(A.a,{variant:"h4",align:"center",className:"settings-title"},"Settings"),r.a.createElement("form",null,r.a.createElement(Ne.a,{container:!0,justify:"center",className:"settings__setting-row"},r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"settings__column-wrapper--center"},r.a.createElement(A.a,{variant:"h6"},"Completed Goals Counter"),r.a.createElement(Yt,{uid:this.props.user.uid}))),r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"settings__column-wrapper--center"},this.state.settings.completedCount&&r.a.createElement(He.a,{row:!0},r.a.createElement(Ve.a,{control:r.a.createElement(ze.a,{checked:this.state.settings.completedCount.enabled,onChange:function(){return e.toggleEnableSwitch(e.state.settings.completedCount.id)},value:this.state.settings.completedCount.enabled}),label:r.a.createElement(A.a,{color:this.state.settings.completedCount.enabled?"textPrimary":"textSecondary"},"Enable Complete Counter")}))))),r.a.createElement(Z.a,{variant:"middle"}),r.a.createElement(Ne.a,{container:!0,justify:"center",className:"settings__setting-row"},r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"settings__column-wrapper--center"},r.a.createElement(A.a,{variant:"h6"},"Clock"),r.a.createElement(zt,{uid:this.props.user.uid}))),r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"settings__column-wrapper--center"},this.state.settings.clock&&r.a.createElement(He.a,{row:!0},r.a.createElement(Ve.a,{control:r.a.createElement(ze.a,{checked:this.state.settings.clock.enabled,onChange:function(){return e.toggleEnableSwitch(e.state.settings.clock.id)},value:this.state.settings.clock.enabled}),label:r.a.createElement(A.a,{color:this.state.settings.clock.enabled?"textPrimary":"textSecondary"},"Enable Clock")}))))),r.a.createElement(Z.a,{variant:"middle"}),r.a.createElement(Ne.a,{container:!0,justify:"center",className:"settings__setting-row"},r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"settings__column-wrapper--center"},r.a.createElement(A.a,{variant:"h6"},"Background"))),r.a.createElement(Ne.a,{item:!0,xs:12,md:6},r.a.createElement("div",{className:"settings__column-wrapper--center"},r.a.createElement(I.a,{variant:"contained",color:"primary",onClick:function(){return $t(e.settingsRef)}},"Shuffle Background")))))))}}]),t}(n.Component)),Zt=(a(398),f(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.firebase.db.collection("users/".concat(a.props.user.uid,"/goals")).onSnapshot(function(e){var t=[];e.forEach(function(e){return t.push(Object(ke.a)({id:e.id},e.data()))}),a.setState({goals:t})});var e=a.props.firebase.db.collection("users/".concat(a.props.user.uid,"/settings"));e.onSnapshot(function(t){if(t.empty)!function(e){e.doc("completedCount").set({count:0,enabled:!0}),e.doc("clock").set({enabled:!0})}(e),$t(e);else{var n={};t.forEach(function(e){return n[e.id]=Object(ke.a)({id:e.id},e.data())}),a.unmounting||(a.setState({settings:n,settingsLoaded:!0}),n.background&&n.background.url&&(document.body.style.backgroundImage="url(".concat(n.background.url,")")))}})},a.toggleModal=function(e){a.setState({goalModalOpen:!a.state.goalModalOpen,modalState:e||null})},a.toggleRepeatModal=function(e){a.setState({repeatModalOpen:!a.state.repeatModalOpen,repeatModalState:e||null})},a.unmounting=!1,a.state={goalModalOpen:!1,repeatModalOpen:!1,modalState:void 0,repeatModalState:void 0,goals:[],settings:{},settingsLoaded:!1},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentWillUnmount",value:function(){this.unmounting=!0}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"dash"},r.a.createElement("div",{className:"dash-items"},this.state.settingsLoaded&&this.state.settings.clock.enabled&&r.a.createElement("div",{className:"dash-item"},r.a.createElement(zt,null)),this.state.settingsLoaded&&this.state.settings.completedCount.enabled&&r.a.createElement("div",{className:"dash-item"},r.a.createElement(Yt,{uid:this.props.user.uid}))),r.a.createElement(te.a,null,this.state.goals.sort(function(e,t){var a=e.date-t.date;return e.completed===t.completed?a:e.completed?1:-1}).map(function(t){return t.multigoal?r.a.createElement(qt,{key:t.id,goal:t,toggleModal:e.toggleModal,toggleRepeatModal:e.toggleRepeatModal,user:e.props.user}):r.a.createElement(wt,{key:t.id,goal:t,toggleModal:e.toggleModal,toggleRepeatModal:e.toggleRepeatModal})})),r.a.createElement(Qt,{open:this.state.goalModalOpen,onClose:this.toggleModal},r.a.createElement(Xe,{toggleModal:this.toggleModal,initialState:this.state.modalState})),r.a.createElement(Qt,{open:this.state.repeatModalOpen,onClose:this.toggleRepeatModal},r.a.createElement(Pt,{toggleRepeatModal:this.toggleRepeatModal,initialState:this.state.repeatModalState})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Oe.a,{color:"secondary",variant:"extended","aria-label":"Add",id:"dash-addBtn",onClick:this.toggleModal},r.a.createElement(Se.a,null)))}}]),t}(r.a.Component))),ea=(a(401),function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"about"},r.a.createElement(Ne.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(Ne.a,{item:!0,xs:12,lg:8},r.a.createElement(D.a,{className:"about-card"},r.a.createElement(Ge.a,null,r.a.createElement(A.a,{variant:"h3",align:"center"},"Thanks for using Goaler!"),r.a.createElement("br",null),r.a.createElement(A.a,{variant:"h5",align:"center"},"Contact me: ",r.a.createElement("a",{href:"mailto:leewarrick@gmail.com",rel:"noopener noreferrer",target:"_BLANK"},"leewarrick@gmail.com")),r.a.createElement("br",null),r.a.createElement(A.a,{variant:"h6",align:"center"},"Background Images Courtesy of ",r.a.createElement("a",{href:"https://unsplash.com/"},"Unsplash")," and ",r.a.createElement("a",{href:"https://picsum.photos"},"Lorem Picsum")),r.a.createElement("br",null),r.a.createElement(A.a,{variant:"h6",align:"center"},"\xa9 Lee Warrick 2019. All Rights Reserved."))))))}}]),t}(n.Component)),ta=(a(403),function(e){var t=e.component,a=e.user,n=Object(h.a)(e,["component","user"]);return r.a.createElement(O.a,Object.assign({},n,{render:function(e){return a?r.a.createElement(t,Object.assign({},e,n,{user:a})):r.a.createElement(C.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),aa=f(function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.firebase.auth.onAuthStateChanged(function(e){e?(a.setState({user:e,loading:!1}),a.props.firebase.initializeUser(e.uid)):a.setState({user:null,loading:!1})}),document.body.style.backgroundImage="url(https://picsum.photos/g/1920/1080?image=773)"},a.signIn=Object(c.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.firebase.signIn();case 2:t=e.sent,a.setState({user:t.user});case 4:case"end":return e.stop()}},e,this)})),a.signOut=function(){a.props.firebase.logout(),a.toggleDrawer()},a.toggleDrawer=function(){a.setState({drawer:!a.state.drawer})},a.state={user:null,loading:!0,from:null,drawer:!1},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(S.a,{basename:"/Goaler"},r.a.createElement(F,{status:this.state.loading},r.a.createElement("div",{className:"App"},r.a.createElement($,{user:this.state.user,login:this.signIn,toggleDrawer:this.toggleDrawer}),r.a.createElement(M.a,{anchor:"right",open:this.state.drawer,onClose:this.toggleDrawer},r.a.createElement(ye,{logout:this.signOut,toggleDrawer:this.toggleDrawer})),r.a.createElement(O.a,{path:"/login",render:function(t){return r.a.createElement(P,Object.assign({},t,{user:e.state.user,login:e.signIn}))}}),r.a.createElement(ta,{user:this.state.user,exact:!0,path:"/about",component:ea}),r.a.createElement(ta,{user:this.state.user,exact:!0,path:"/",component:Zt}),r.a.createElement(ta,{user:this.state.user,exact:!0,path:"/settings",component:Xt}))))}}]),t}(n.Component)),na=a(175),ra=a.n(na),oa=a(172),la=a.n(oa),sa=a(173),ia=a.n(sa),ca=a(174),ua=a.n(ca),ma=a(107),pa=a.n(ma),da=Object(K.createMuiTheme)({palette:{type:"dark",primary:{main:la.a[900]},secondary:{main:ia.a[400]},error:ua.a,warn:pa.a,contrastThreshold:3,tonalOffset:.5},typography:{useNextVariants:!0}}),ga=(a(408),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function ha(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}l.a.render(r.a.createElement(b.Provider,{value:new w},r.a.createElement(K.MuiThemeProvider,{theme:da},r.a.createElement(ra.a,null),r.a.createElement(aa,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Goaler",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/Goaler","/service-worker.js");ga?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ha(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):ha(t,e)})}}()}},[[176,2,1]]]);
//# sourceMappingURL=main.25c4f5d6.chunk.js.map