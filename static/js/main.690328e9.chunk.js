(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t,a){e.exports=a(315)},127:function(e,t,a){},145:function(e,t,a){},206:function(e,t,a){},232:function(e,t,a){},304:function(e,t,a){},306:function(e,t,a){},309:function(e,t,a){},315:function(e,t,a){"use strict";a.r(t);var n,r=a(0),i=a.n(r),o=a(20),s=a.n(o),l=(a(127),a(67)),c=a.n(l),u=a(108),h=a(17),m=a(21),d=a(23),p=a(22),g=a(24),f=a(49),b=i.a.createContext(null),O=b,E=a(40),v=a.n(E),j=(a(138),a(140),{apiKey:"AIzaSyD-JApoTn3FGcYz4dBjO48jQ5nMOQHiRZc",authDomain:"goaler-8f0dc.firebaseapp.com",databaseURL:"https://goaler-8f0dc.firebaseio.com",projectId:"goaler-8f0dc",storageBucket:"goaler-8f0dc.appspot.com",messagingSenderId:"564932997783"}),y=function e(){var t=this;Object(h.a)(this,e),this.signIn=function(){var e=new E.auth.GoogleAuthProvider;return t.auth.signInWithRedirect(e).catch(function(e){return console.log(e)})},this.logout=function(){return t.auth.signOut()},this.redirect=function(){return t.auth.getRedirectResult()},this.initializeUser=function(e){t.goalsRef=t.db.collection("users/".concat(e,"/goals"))},v.a.initializeApp(j),this.auth=v.a.auth(),this.db=v.a.firestore();this.db.settings({timestampsInSnapshots:!0}),this.userRef=null},C=a(319),k=a(318),w=a(317),T=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.user&&this.props.history.push("/")}},{key:"render",value:function(){return i.a.createElement("h2",null,"Login works!")}}]),t}(r.Component),D=(a(145),a(109)),M=a.n(D),I=function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.props.status?i.a.createElement("div",{className:"loading"},i.a.createElement(M.a,{color:"secondary",size:200})):this.props.children)}}]),t}(r.Component),S=a(316),N=a(111),x=a.n(N),A=a(112),P=a.n(A),R=a(39),W=a.n(R),z=a(35),B=a.n(z),L=a(113),G=a.n(L),Z=(a(206),function(e){function t(){return Object(h.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("header",{className:"header"},i.a.createElement(x.a,{position:"static"},i.a.createElement(P.a,{className:"row"},i.a.createElement(S.a,{to:"/"},i.a.createElement(B.a,{color:"inherit","aria-label":"Menu"},i.a.createElement(G.a,null),i.a.createElement(W.a,{variant:"h6",color:"inherit"},"Goaler"))),i.a.createElement("div",null,this.props.user?i.a.createElement(B.a,{color:"inherit",onClick:this.props.logout},"Sign Out"):i.a.createElement(B.a,{color:"inherit",onClick:this.props.login},"Sign In")))))}}]),t}(r.Component)),J=a(116),U=a.n(J),F=a(117),Q=a.n(F),H=a(114),K=a(115),V=a.n(K),Y=a(41),$=a.n(Y),q=(a(232),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(H.a)({},e,t.target.value))}},a.convertDate=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(a.state.date)).getTime()},a.convertDateTime=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(a.state.date+"T"+a.state.time+":00Z")).getTime()},a.convertDateTime2=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(a.state.dateTime+":00Z")).getTime()},a.state={name:"",date:"1970-01-01",time:"",dateTime:""},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(V.a,{className:"goalform"},i.a.createElement($.a,{label:"Name",value:this.state.name,onChange:this.handleChange("name"),fullWidth:!0,margin:"normal"}),i.a.createElement($.a,{label:"Due Date",type:"date",value:this.state.date,onChange:this.handleChange("date"),margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},InputProps:{}}),i.a.createElement($.a,{label:"Due Time",type:"time",value:this.state.time,onChange:this.handleChange("time"),margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0}}),i.a.createElement($.a,{label:"Due Date and Time",type:"datetime-local",value:this.state.dateTime,onChange:this.handleChange("dateTime"),margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0}}),i.a.createElement("h2",null,this.state.name),i.a.createElement("h2",null,this.state.date&&this.convertDate()),i.a.createElement("h2",null,this.state.time&&this.state.date&&this.convertDateTime()),i.a.createElement("h2",null,this.state.date+"T"+this.state.time+":00Z"),i.a.createElement("h2",null,this.state.dateTime),i.a.createElement("h2",null,this.state.dateTime&&this.convertDateTime2()),i.a.createElement(B.a,{onClick:this.props.closeModal},"Close"))}}]),t}(r.Component)),X=a(66),_=a.n(X),ee=(a(304),function(e){var t=e.children,a=Object(f.a)(e,["children"]);return i.a.createElement(_.a,Object.assign({},a,{className:"centeredModal"}),t)}),te=(a(306),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).toggleModal=function(){a.setState({goalModalOpen:!a.state.goalModalOpen})},a.state={goalModalOpen:!1},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"dash"},i.a.createElement(W.a,{variant:"h6",align:"center"},"Dashboard"),i.a.createElement(ee,{open:this.state.goalModalOpen,onClose:this.toggleModal},i.a.createElement(q,{closeModal:this.toggleModal})),i.a.createElement(U.a,{color:"secondary",variant:"extended","aria-label":"Add",id:"dash-addBtn",onClick:this.toggleModal},i.a.createElement(Q.a,null)))}}]),t}(i.a.Component)),ae=(a(309),function(e){var t=e.component,a=e.user,n=Object(f.a)(e,["component","user"]);return i.a.createElement(C.a,Object.assign({},n,{render:function(e){return a?i.a.createElement(t,Object.assign({},e,n,{user:a})):i.a.createElement(k.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),ne=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).componentDidMount=function(){a.props.firebase.auth.onAuthStateChanged(function(e){e?(a.setState({user:e,loading:!1}),a.props.firebase.initializeUser(e.uid)):a.setState({user:null,loading:!1})})},a.signIn=Object(u.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.firebase.signIn();case 2:t=e.sent,a.setState({user:t.user});case 4:case"end":return e.stop()}},e,this)})),a.signOut=function(){a.props.firebase.logout()},a.state={user:null,loading:!0,from:null},a}return Object(g.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(w.a,{basename:"/Goaler"},i.a.createElement(I,{status:this.state.loading},i.a.createElement("div",{className:"App"},i.a.createElement(Z,{user:this.state.user,login:this.signIn,logout:this.signOut}),i.a.createElement(C.a,{path:"/login",render:function(t){return i.a.createElement(T,Object.assign({},t,{user:e.state.user}))}}),i.a.createElement(ae,{user:this.state.user,exact:!0,path:"/",component:te}))))}}]),t}(r.Component),re=(n=ne,function(e){return i.a.createElement(b.Consumer,null,function(t){return i.a.createElement(n,Object.assign({},e,{firebase:t}))})}),ie=a(34),oe=a(120),se=a.n(oe),le=a(118),ce=a.n(le),ue=a(119),he=a.n(ue),me=a(65),de=a.n(me),pe=Object(ie.createMuiTheme)({palette:{type:"dark",primary:{main:ce.a[900]},secondary:{main:he.a[400]},error:de.a,contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}});a(312),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(O.Provider,{value:new y},i.a.createElement(ie.MuiThemeProvider,{theme:pe},i.a.createElement(se.a,null),i.a.createElement(re,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[122,2,1]]]);
//# sourceMappingURL=main.690328e9.chunk.js.map