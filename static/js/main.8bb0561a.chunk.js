(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{110:function(e,t,n){},173:function(e,t,n){},206:function(e,t,n){},209:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var a,r=n(0),i=n.n(r),o=n(30),c=n.n(o),s=(n(92),n(49)),u=n.n(s),l=n(74),h=n(11),m=n(14),p=n(16),d=n(15),f=n(17),b=n(85),g=i.a.createContext(null),O=g,j=n(32),E=n.n(j),v=(n(103),n(105),{apiKey:"AIzaSyD-JApoTn3FGcYz4dBjO48jQ5nMOQHiRZc",authDomain:"goaler-8f0dc.firebaseapp.com",databaseURL:"https://goaler-8f0dc.firebaseio.com",projectId:"goaler-8f0dc",storageBucket:"goaler-8f0dc.appspot.com",messagingSenderId:"564932997783"}),y=function e(){var t=this;Object(h.a)(this,e),this.signIn=function(){var e=new j.auth.GoogleAuthProvider;return t.auth.signInWithRedirect(e).catch(function(e){return console.log(e)})},this.logout=function(){return t.auth.signOut()},this.redirect=function(){return t.auth.getRedirectResult()},this.initializeUser=function(e){t.goalsRef=t.db.collection("users/".concat(e,"/goals"))},E.a.initializeApp(v),this.auth=E.a.auth(),this.db=E.a.firestore();this.db.settings({timestampsInSnapshots:!0}),this.userRef=null},w=n(224),k=n(223),C=n(222),I=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.props.user&&this.props.history.push("/")}},{key:"render",value:function(){return i.a.createElement("h2",null,"Login works!")}}]),t}(r.Component),S=(n(110),n(75)),x=n.n(S),A=function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,this.props.status?i.a.createElement("div",{className:"loading"},i.a.createElement(x.a,{color:"secondary",size:200})):this.props.children)}}]),t}(r.Component),R=n(221),z=n(77),M=n.n(z),N=n(78),B=n.n(N),D=n(37),G=n.n(D),T=n(39),J=n.n(T),P=n(79),U=n.n(P),W=(n(173),function(e){function t(){return Object(h.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("header",{className:"header"},i.a.createElement(M.a,{position:"static"},i.a.createElement(B.a,{className:"row"},i.a.createElement(R.a,{to:"/"},i.a.createElement(J.a,{color:"inherit","aria-label":"Menu"},i.a.createElement(U.a,null),i.a.createElement(G.a,{variant:"h6",color:"inherit"},"Goaler"))),i.a.createElement("div",null,this.props.user?i.a.createElement(J.a,{color:"inherit",onClick:this.props.logout},"Sign Out"):i.a.createElement(J.a,{color:"inherit",onClick:this.props.login},"Sign In")))))}}]),t}(r.Component)),F=n(80),L=n.n(F),Q=n(81),H=n.n(Q),K=(n(206),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).increment=function(){n.setState({counter:n.state.counter+1})},n.state={counter:0},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"dash"},i.a.createElement(G.a,{variant:"h6",align:"center"},"Dashboard ",this.state.counter),i.a.createElement(L.a,{color:"secondary",variant:"extended","aria-label":"Add",id:"dash-addBtn",onClick:this.increment},i.a.createElement(H.a,null)))}}]),t}(i.a.Component)),V=(n(209),function(e){var t=e.component,n=e.user,a=Object(b.a)(e,["component","user"]);return i.a.createElement(w.a,Object.assign({},a,{render:function(e){return n?i.a.createElement(t,Object.assign({},e,a,{user:n})):i.a.createElement(k.a,{to:{pathname:"/login",state:{from:e.location}}})}}))}),Y=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){n.props.firebase.auth.onAuthStateChanged(function(e){e?(n.setState({user:e,loading:!1}),n.props.firebase.initializeUser(e.uid)):n.setState({user:null,loading:!1})})},n.signIn=Object(l.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.firebase.signIn();case 2:t=e.sent,n.setState({user:t.user});case 4:case"end":return e.stop()}},e,this)})),n.signOut=function(){n.props.firebase.logout()},n.state={user:null,loading:!0,from:null},n}return Object(f.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(C.a,{basename:"/Goaler"},i.a.createElement(A,{status:this.state.loading},i.a.createElement("div",{className:"App"},i.a.createElement(W,{user:this.state.user,login:this.signIn,logout:this.signOut}),i.a.createElement(w.a,{path:"/login",render:function(t){return i.a.createElement(I,Object.assign({},t,{user:e.state.user}))}}),i.a.createElement(V,{user:this.state.user,exact:!0,path:"/",component:K}))))}}]),t}(r.Component),Z=(a=Y,function(e){return i.a.createElement(g.Consumer,null,function(t){return i.a.createElement(a,Object.assign({},e,{firebase:t}))})}),$=n(31),q=n(84),X=n.n(q),_=n(82),ee=n.n(_),te=n(83),ne=n.n(te),ae=n(48),re=n.n(ae),ie=Object($.createMuiTheme)({palette:{type:"dark",primary:{main:ee.a[900]},secondary:{main:ne.a[400]},error:re.a,contrastThreshold:3,tonalOffset:.2},typography:{useNextVariants:!0}});n(217),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(O.Provider,{value:new y},i.a.createElement($.MuiThemeProvider,{theme:ie},i.a.createElement(X.a,null),i.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},87:function(e,t,n){e.exports=n(220)},92:function(e,t,n){}},[[87,2,1]]]);
//# sourceMappingURL=main.8bb0561a.chunk.js.map